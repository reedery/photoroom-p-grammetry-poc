<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photogrammetry POC</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Image -> 3D model</h1>
            <p>This tool takes an image of any object, removes the background with the Photoroom API, then generates a 3D model with Triposr.</p>

        <main>
            <!-- API Key Section -->
            <section class="api-key-section">
                <label for="apiKey">Photoroom API Key</label>
                <input 
                    type="password" 
                    id="apiKey" 
                    placeholder="Enter your Photoroom API key"
                    autocomplete="off"
                >
            </section>

            <!-- Image Upload Section -->
            <section class="upload-section">
                <div class="file-input-wrapper">
                    <input 
                        type="file" 
                        id="fileInput" 
                        accept="image/*"
                        hidden
                    >
                    <div class="button-group">
                        <button id="uploadButton" class="btn btn-primary">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                            Select Image
                        </button>
                        <button id="demoShoeButton" class="btn btn-demo btn-demo-green">
                            ðŸ‘Ÿ Try a Shoe
                        </button>
                        <button id="demoMugButton" class="btn btn-demo btn-demo-orange">
                            â˜• Try a Mug
                        </button>
                    </div>
                    <span id="fileCount" class="file-count">No image selected</span>
                </div>
                
                
            </section>


            <!-- Status Section -->
            <section class="status-section">
                <div id="statusMessage" class="status-message"></div>
            </section>

            <!-- Selected Image Preview -->
            <section class="preview-section" id="previewSection" style="display: none;">
                <h2>Selected Image</h2>
                <div id="imagePreview" class="image-preview"></div>
                <button id="processButton" class="btn btn-success">
                    <span id="processButtonText">Generate 3D Model</span>
                    <span id="processingSpinner" class="spinner" style="display: none;"></span>
                </button>
            </section>

            <!-- Three.js Viewer Section -->
            <section class="viewer-section">
                <h2>3D Preview</h2>
                <div id="threejs-container"></div>
            </section>

        </main>

    </div>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/PLYLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
    
    <!-- App Script -->
    <script src="app.js"></script>
</body>
</html>

